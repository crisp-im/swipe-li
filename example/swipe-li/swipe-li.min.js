angular.module("swipeLi",[]),function(){for(var n=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),t=Math.max(0,16-(i-n)),a=window.setTimeout(function(){e(i+t)},t);return n=i+t,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}(),angular.module("swipeLi").directive("swipeLi",["$timeout","$window","$swipe",function(n,e,i){"use strict";return{restrict:"A",link:function(t,a,o){var s={};s.onComplete=function(e){n(function(){s.showPane(1,!0),t.$apply(o[e])},300)};var r=75,m=160,u=.3,c=a.find("div"),w=a.find("ul"),l=a.find("li"),f=0,d=3,h=0,p={x:0,y:0},v=!1;s.init=function(){s.setPaneDimensions(),s.showPane(1,!1),angular.element(e).on("load resize orientationchange",function(){s.setPaneDimensions()})},s.setPaneDimensions=function(){f=c[0].offsetWidth,angular.forEach(l,function(n){angular.element(n).css({width:f+"px"})}),angular.element(w).css({width:f*d+"px"})},s.showPane=function(n,e){n=Math.max(0,Math.min(n,d-1)),h=n;var i=-(100/d*h);s.setContainerOffset(i,e)},s.setContainerOffset=function(n,e){w.removeClass("animate"),e&&w.addClass("animate"),w.css("transform","translate3d("+n+"%,0,0) scale3d(1,1,1)")},s.init(),i.bind(angular.element(c[0]),{start:function(n,e){p=n,e.preventDefault(),v=!0},cancel:function(){v=!1,s.showPane(h,!0)},end:function(){v=!1,s.showPane(h,!0)},move:function(n,e){e.preventDefault();var i=Math.abs(n.y-p.y),t=n.x-p.x;if(v&&r>i&&u>i/t)if(Math.abs(t)>m)t>0?(s.showPane(0,!0),s.onComplete("accept")):(s.showPane(2,!0),s.onComplete("reject"));else{var a=-(100/d)*h,o=100/f*t/d;(0===h&&t>0||0>t&&h==d-1)&&(o*=.4),s.setContainerOffset(o+a)}else v=!1}},["touch","mouse"])}}}]);